================================================================================
机器人控制系统错误日志
启动时间: 2025-11-19 14:21:24
================================================================================

[2025-11-19 14:21:24] [INFO] 系统: 机器人控制系统启动
--------------------------------------------------------------------------------
[2025-11-19 14:21:26] [INFO] 存储管理器: 存储状态已重置为默认值
--------------------------------------------------------------------------------
[2025-11-19 14:21:26] [INFO] 存储管理器: 存储状态已保存到: storage_state.json
--------------------------------------------------------------------------------
[2025-11-19 14:21:26] [INFO] 存储管理器: 存储状态已重置并保存
--------------------------------------------------------------------------------
[2025-11-19 14:21:26] [INFO] 系统: 暂存区状态已重置
--------------------------------------------------------------------------------
[2025-11-19 14:21:29] [INFO] 系统: 启动HTTP服务器模式
--------------------------------------------------------------------------------
[2025-11-19 14:21:30] [INFO] 状态机: 任务状态机已初始化
--------------------------------------------------------------------------------
[2025-11-19 14:21:30] [INFO] 命令处理器: 命令处理器初始化完成
--------------------------------------------------------------------------------
[2025-11-19 14:21:30] [INFO] HTTP服务器: 命令回调函数已设置
--------------------------------------------------------------------------------
[2025-11-19 14:21:30] [INFO] HTTP服务器: 开始监听HTTP请求...
--------------------------------------------------------------------------------
[2025-11-19 14:21:30] [INFO] HTTP服务器: HTTP服务器启动成功: 0.0.0.0:8090
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] HTTP服务器: 收到命令: SCAN_QRCODE (ID: SCAN_QRCODE_001)
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] 命令处理器: 收到命令: SCAN_QRCODE (ID: SCAN_QRCODE_001)
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] 命令处理器: 开始SCAN_QRCODE任务: SCAN_QRCODE_001
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] 状态机: 任务开始: SCAN_QRCODE_001
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] 命令处理器: 任务 SCAN_QRCODE_001 开始执行
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] HTTP服务器: 命令执行完成: True
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] HTTP服务器: HTTP请求: "POST / HTTP/1.1" 200 -
--------------------------------------------------------------------------------
[2025-11-19 14:21:33] [INFO] 命令处理器: 等待SCAN_QRCODE_ENTER_ID消息...
--------------------------------------------------------------------------------
[2025-11-19 14:21:42] [INFO] HTTP服务器: 收到命令: GET_TASK_STATE (ID: GET_TASK_STATE_001)
--------------------------------------------------------------------------------
[2025-11-19 14:21:42] [INFO] 命令处理器: 收到命令: GET_TASK_STATE (ID: GET_TASK_STATE_001)
--------------------------------------------------------------------------------
[2025-11-19 14:21:42] [INFO] 命令处理器: 查询指定任务的执行状态: SCAN_QRCODE_001
--------------------------------------------------------------------------------
[2025-11-19 14:21:42] [ERROR] 命令处理器: 操作异常 - 处理命令GET_TASK_STATE
异常详情:
Traceback (most recent call last):
  File "/home/zhangziwei/Code/robot_connect/cmd_handler.py", line 71, in handle_command
    result = handler(cmd_data)
  File "/home/zhangziwei/Code/robot_connect/cmd_handler.py", line 654, in handle_get_task_state
    state = self.task_state_machine.get_state(target_cmd_id)
TypeError: get_state() takes 1 positional argument but 2 were given

--------------------------------------------------------------------------------
[2025-11-19 14:21:42] [INFO] HTTP服务器: 命令执行完成: False
--------------------------------------------------------------------------------
[2025-11-19 14:21:42] [INFO] HTTP服务器: HTTP请求: "POST / HTTP/1.1" 200 -
--------------------------------------------------------------------------------
[2025-11-19 14:21:53] [INFO] HTTP服务器: 收到命令: GET_TASK_STATE (ID: GET_TASK_STATE_001)
--------------------------------------------------------------------------------
[2025-11-19 14:21:53] [INFO] 命令处理器: 收到命令: GET_TASK_STATE (ID: GET_TASK_STATE_001)
--------------------------------------------------------------------------------
[2025-11-19 14:21:53] [INFO] 命令处理器: 查询指定任务的执行状态: SCAN_QRCODE_001
--------------------------------------------------------------------------------
[2025-11-19 14:21:53] [ERROR] 命令处理器: 操作异常 - 处理命令GET_TASK_STATE
异常详情:
Traceback (most recent call last):
  File "/home/zhangziwei/Code/robot_connect/cmd_handler.py", line 71, in handle_command
    result = handler(cmd_data)
  File "/home/zhangziwei/Code/robot_connect/cmd_handler.py", line 654, in handle_get_task_state
    state = self.task_state_machine.get_state(target_cmd_id)
TypeError: get_state() takes 1 positional argument but 2 were given

--------------------------------------------------------------------------------
[2025-11-19 14:21:53] [INFO] HTTP服务器: 命令执行完成: False
--------------------------------------------------------------------------------
[2025-11-19 14:21:53] [INFO] HTTP服务器: HTTP请求: "POST / HTTP/1.1" 200 -
--------------------------------------------------------------------------------
[2025-11-19 14:22:09] [INFO] HTTP服务器: 正在停止HTTP服务器...
--------------------------------------------------------------------------------
[2025-11-19 14:22:09] [INFO] HTTP服务器: 正在停止HTTP服务器...
--------------------------------------------------------------------------------
[2025-11-19 14:22:09] [INFO] HTTP服务器: HTTP服务器已停止
--------------------------------------------------------------------------------
[2025-11-19 14:22:09] [WARNING] 系统: 用户中断程序 (Ctrl+C)
--------------------------------------------------------------------------------
[2025-11-19 14:22:09] [INFO] 系统: 开始清理资源
--------------------------------------------------------------------------------
[2025-11-19 14:22:09] [INFO] 系统: 暂存区状态已保存
--------------------------------------------------------------------------------
