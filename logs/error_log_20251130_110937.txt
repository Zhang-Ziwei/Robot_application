================================================================================
机器人控制系统错误日志
启动时间: 2025-11-30 11:09:37
================================================================================

[2025-11-30 11:09:37] [INFO] 系统: 机器人控制系统启动
--------------------------------------------------------------------------------
[2025-11-30 11:09:38] [INFO] 存储管理器: 存储状态已重置为默认值
--------------------------------------------------------------------------------
[2025-11-30 11:09:38] [INFO] 存储管理器: 存储状态已保存到: storage_state.json
--------------------------------------------------------------------------------
[2025-11-30 11:09:38] [INFO] 存储管理器: 存储状态已重置并保存
--------------------------------------------------------------------------------
[2025-11-30 11:09:38] [INFO] 系统: 暂存区状态已重置
--------------------------------------------------------------------------------
[2025-11-30 11:09:40] [INFO] Robot A: 连接成功 - 172.20.10.3:9091
--------------------------------------------------------------------------------
[2025-11-30 11:09:42] [INFO] 系统: 启动HTTP服务器模式
--------------------------------------------------------------------------------
[2025-11-30 11:09:43] [INFO] 状态机: 任务状态机已初始化
--------------------------------------------------------------------------------
[2025-11-30 11:09:43] [INFO] 命令处理器: 命令处理器初始化完成
--------------------------------------------------------------------------------
[2025-11-30 11:09:43] [INFO] HTTP服务器: 命令回调函数已设置
--------------------------------------------------------------------------------
[2025-11-30 11:09:43] [INFO] HTTP服务器: HTTP服务器启动成功: 0.0.0.0:8090
--------------------------------------------------------------------------------
[2025-11-30 11:09:43] [INFO] HTTP服务器: 开始监听HTTP请求...
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] HTTP服务器: 收到命令: SCAN_QRCODE (ID: SCAN_QRCODE_001)
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 命令处理器: 收到命令: SCAN_QRCODE (ID: SCAN_QRCODE_001)
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 命令处理器: 开始SCAN_QRCODE任务: SCAN_QRCODE_001
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 状态机: 任务开始: SCAN_QRCODE_001
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 命令处理器: 任务 SCAN_QRCODE_001 开始执行
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] HTTP服务器: 命令执行完成: True
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] HTTP服务器: HTTP请求: "POST / HTTP/1.1" 200 -
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 命令处理器: 订阅 /navigation_status topic
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 状态机: 步骤更新: 导航到扫描台 - 开始导航到扫描台
--------------------------------------------------------------------------------
[2025-11-30 11:10:13] [INFO] 状态机: 步骤更新: 视觉检测瓶子 - 视觉检测瓶子
--------------------------------------------------------------------------------
[2025-11-30 11:10:28] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=cv_detect
--------------------------------------------------------------------------------
[2025-11-30 11:10:32] [INFO] 状态机: 步骤更新: 抓取瓶子 - 抓取瓶子 (glass_bottle_500)
--------------------------------------------------------------------------------
[2025-11-30 11:10:46] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=grab_object_scan_table
--------------------------------------------------------------------------------
[2025-11-30 11:10:48] [INFO] 状态机: 步骤更新: 等待扫描二维码 - 等待扫描二维码
--------------------------------------------------------------------------------
[2025-11-30 11:10:48] [INFO] 命令处理器: 等待SCAN_QRCODE_ENTER_ID消息...
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] HTTP服务器: 收到命令: SCAN_QRCODE_ENTER_ID (ID: SCAN_QRCODE_ENTER_ID_001)
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] 命令处理器: 收到命令: SCAN_QRCODE_ENTER_ID (ID: SCAN_QRCODE_ENTER_ID_001)
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] 命令处理器: SCAN_QRCODE_ENTER_ID - bottle_id: bottle_500ml_12345, type: bottle_500ml, task: split_liquid
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] 命令处理器: 瓶子ID已录入并触发事件: bottle_500ml_12345
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] 命令处理器: 接收到瓶子信息: bottle_500ml_12345, 类型: bottle_500ml
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] HTTP服务器: 命令执行完成: True
--------------------------------------------------------------------------------
[2025-11-30 11:10:58] [INFO] HTTP服务器: HTTP请求: "POST / HTTP/1.1" 200 -
--------------------------------------------------------------------------------
[2025-11-30 11:11:01] [INFO] 状态机: 步骤更新: 放置到后部平台 - 放置到后部平台 slot_0
--------------------------------------------------------------------------------
[2025-11-30 11:11:24] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=put_object_back
--------------------------------------------------------------------------------
[2025-11-30 11:11:24] [ERROR] 存储管理器: 无效的瓶子类型: bottle_500ml
--------------------------------------------------------------------------------
[2025-11-30 11:11:24] [INFO] 状态机: 瓶子已扫描: bottle_500ml_12345
--------------------------------------------------------------------------------
[2025-11-30 11:11:24] [INFO] 命令处理器: 瓶子 bottle_500ml_12345 已放置到 bottle_500ml[0]
--------------------------------------------------------------------------------
[2025-11-30 11:11:28] [INFO] 状态机: 步骤更新: 转回正面 - 转回正面
--------------------------------------------------------------------------------
[2025-11-30 11:11:49] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=back_to_front
--------------------------------------------------------------------------------
[2025-11-30 11:11:49] [INFO] 状态机: 步骤更新: 视觉检测瓶子 - 视觉检测瓶子
--------------------------------------------------------------------------------
[2025-11-30 11:12:03] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=cv_detect
--------------------------------------------------------------------------------
[2025-11-30 11:12:05] [INFO] 状态机: 步骤更新: 抓取瓶子 - 抓取瓶子 (glass_bottle_500)
--------------------------------------------------------------------------------
[2025-11-30 11:12:19] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=grab_object_scan_table
--------------------------------------------------------------------------------
[2025-11-30 11:12:21] [INFO] 状态机: 步骤更新: 等待扫描二维码 - 等待扫描二维码
--------------------------------------------------------------------------------
[2025-11-30 11:12:21] [INFO] 命令处理器: 等待SCAN_QRCODE_ENTER_ID消息...
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] HTTP服务器: 收到命令: SCAN_QRCODE_ENTER_ID (ID: SCAN_QRCODE_ENTER_ID_001)
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] 命令处理器: 收到命令: SCAN_QRCODE_ENTER_ID (ID: SCAN_QRCODE_ENTER_ID_001)
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] 命令处理器: SCAN_QRCODE_ENTER_ID - bottle_id: bottle_500ml_123456, type: bottle_500ml, task: split_liquid
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] 命令处理器: 瓶子ID已录入并触发事件: bottle_500ml_123456
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] 命令处理器: 接收到瓶子信息: bottle_500ml_123456, 类型: bottle_500ml
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] HTTP服务器: 命令执行完成: True
--------------------------------------------------------------------------------
[2025-11-30 11:12:44] [INFO] HTTP服务器: HTTP请求: "POST / HTTP/1.1" 200 -
--------------------------------------------------------------------------------
[2025-11-30 11:12:49] [INFO] 状态机: 步骤更新: 放置到后部平台 - 放置到后部平台 slot_0
--------------------------------------------------------------------------------
[2025-11-30 11:13:11] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=put_object_back
--------------------------------------------------------------------------------
[2025-11-30 11:13:11] [ERROR] 存储管理器: 无效的瓶子类型: bottle_500ml
--------------------------------------------------------------------------------
[2025-11-30 11:13:11] [INFO] 状态机: 瓶子已扫描: bottle_500ml_123456
--------------------------------------------------------------------------------
[2025-11-30 11:13:11] [INFO] 命令处理器: 瓶子 bottle_500ml_123456 已放置到 bottle_500ml[0]
--------------------------------------------------------------------------------
[2025-11-30 11:13:31] [INFO] 状态机: 步骤更新: 转回正面 - 转回正面
--------------------------------------------------------------------------------
[2025-11-30 11:13:52] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=back_to_front
--------------------------------------------------------------------------------
[2025-11-30 11:13:52] [INFO] 状态机: 步骤更新: 视觉检测瓶子 - 视觉检测瓶子
--------------------------------------------------------------------------------
[2025-11-30 11:14:12] [INFO] Robot A: 请求成功 - service=/get_strawberry_service, action=cv_detect
--------------------------------------------------------------------------------
[2025-11-30 11:14:12] [INFO] 命令处理器: 检测不到更多瓶子，扫码任务完成
--------------------------------------------------------------------------------
[2025-11-30 11:14:12] [INFO] 状态机: 步骤更新: 视觉检测瓶子已抓完 - 视觉检测瓶子已抓完
--------------------------------------------------------------------------------
[2025-11-30 11:14:18] [INFO] 状态机: 步骤更新: 导航到分液台 - 导航到分液台
--------------------------------------------------------------------------------
[2025-11-30 11:17:18] [ERROR] Robot A: 操作异常 - 发送请求
异常详情:
Traceback (most recent call last):
  File "/home/zhangziwei/Code/robot_connect/robot_controller.py", line 299, in send_service_request
    result = future.result(maxtime)
  File "/home/zhangziwei/anaconda3/envs/robot_connect/lib/python3.9/concurrent/futures/_base.py", line 448, in result
    raise TimeoutError()
concurrent.futures._base.TimeoutError

--------------------------------------------------------------------------------
[2025-11-30 11:17:18] [ERROR] Robot A: 读取超时（180秒）
--------------------------------------------------------------------------------
[2025-11-30 11:17:19] [INFO] Robot A: 连接成功 - 172.20.10.3:9091
--------------------------------------------------------------------------------
[2025-11-30 11:17:29] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:17:39] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:17:49] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:17:59] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:18:09] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:18:19] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:18:29] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:18:39] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:18:49] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:18:59] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:19:09] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:19:19] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:19:29] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:19:39] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:19:49] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:19:59] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:20:09] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:20:19] [WARNING] 命令处理器: 等待topic消息超时: /navigation_status
--------------------------------------------------------------------------------
[2025-11-30 11:20:27] [INFO] HTTP服务器: 正在停止HTTP服务器...
--------------------------------------------------------------------------------
[2025-11-30 11:20:27] [INFO] HTTP服务器: HTTP服务器已停止
--------------------------------------------------------------------------------
[2025-11-30 11:20:27] [INFO] 系统: 开始清理资源
--------------------------------------------------------------------------------
[2025-11-30 11:20:27] [INFO] 系统: 暂存区状态已保存
--------------------------------------------------------------------------------
[2025-11-30 11:20:27] [INFO] 系统: 机器人控制系统已停止
--------------------------------------------------------------------------------
